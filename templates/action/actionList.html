$def with (products, product_id, actions)
$var title: 测试组件列表

<script type="text/javascript">
function changeProduct(product_id) {
  location.href = "/action/p/" + product_id;
}
</script>

<div id="navigator">测试组件管理 &gt;&gt; 测试组件列表</div>
<div id="titleMain">
  <div class="modules">
    <div id="current"><a href="/action" class="current">测试组件列表</a></div>
    <div class="other"><a href="/action/new" class="other">新增测试组件</a></div>
    <div class="unusable">修改测试组件</div>
    <div class="unusable">测试功能列表</div>
    <div class="unusable">新增测试功能</div>
    <div class="unusable">修改测试功能</div>
  </div>
</div>
<div id="tableMain">
  <div id="desc">
    所属产品：
    <select name="product_id" onchange="changeProduct(this.value)">
      $for product in products:
        $if product.id == product_id:
          <option value="$product.id" selected="selected">$product.cname ($product.ename)</option>
        $else:
          <option value="$product.id">$product.cname ($product.ename)</option>
      $if not products:
      <option value="">请先维护产品信息</option>
    </select>
  </div>
  <table id="dataTable" border="0" align="center" cellpadding="5" cellspacing="1"> 
    <tr class="titleTr">
      <td align="center">组件编号</td>
      <td align="center">组件名称</td>
      <td align="center">组件状态</td>
      <td align="center">描述信息</td>
      <td align="center">修改时间</td>
      <td align="center">创建时间</td>
      <td align="center">操作</td>
    </tr>
    $for action in actions:
    <tr>
      <td>$action.serial</td>
      <td>$action.name</td>
      $if action.state == 1:
        <td align="center">正常</td>
      $else:
        <td align="center"><span class="red">废弃</span></td>
      <td>$action.description</td>
      <td align="center">$action.modify_time</td>
      <td align="center">$action.creation_time</td>
      <td align="center">
        <a href="/function/a/$action.id">维护测试功能</a> |
        <a href="/action/$action.id">修改信息</a>
      </td>
    </tr>
  </table>
</div>
